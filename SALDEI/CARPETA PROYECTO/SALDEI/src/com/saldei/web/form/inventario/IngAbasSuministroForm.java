/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package com.saldei.web.form.inventario;

import java.sql.SQLException;
import java.util.ResourceBundle;

import javax.servlet.http.HttpServletRequest;

import org.apache.struts.action.ActionError;
import org.apache.struts.action.ActionErrors;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionMapping;

import com.saldei.hibernate.tables.activos.ActDetSolicitud;
import com.saldei.hibernate.tables.activos.ActDetSolicitudId;
import com.saldei.hibernate.tables.activos.ActSolicitud;
import com.saldei.hibernate.tables.activos.ActSolicitudId;
import com.saldei.hibernate.tables.inventario.InvDetMovimientoId;
import com.saldei.hibernate.tables.inventario.InvRecurso;

/** 
 * MyEclipse Struts
 * Creation date: 08-03-2009
 * 
 * XDoclet definition:
 * @struts.form name="ingAbasSuministroForm"
 */
public class IngAbasSuministroForm extends ActionForm {
	/*
	 * Generated fields
	 */

	/** actDetSolicitud property */
	//private ActDetSolicitud actDetSolicitud = new ActDetSolicitud(new ActDetSolicitudId());
	private ActSolicitud actSolicitud =  new ActSolicitud(new ActSolicitudId());
	private String solicitante;
	private String[] cantidadIngresar;
	private Integer[] valoresIngresar;
	private String mostrarHistorico;

	/*
	 * Generated Methods
	 */

	/**
	 * @return
	 * @throws SQLException
	 * @throws Exception
	 * @throws Error
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getNombre()
	 */
	
	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getNombre()
	 */
	public String getNombre() {
		return actSolicitud.getNombre();
	}

	/** 
	 * Method validate
	 * @param mapping
	 * @param request
	 * @return ActionErrors
	 */
	public void validate(ActionMapping mapping,
			HttpServletRequest request, ActionErrors errors) {
		// TODO Auto-generated method stub
		
		String accion = request.getParameter("accion");
		accion = (accion==null)?"":accion;
		
		ResourceBundle mensajes = ResourceBundle.getBundle("com.saldei.web.ApplicationResources");
		if(!accion.equals(mensajes.getString("opc.cancel")) && !accion.equals(mensajes.getString("opc.find"))){

			for(int i=0;i < this.getCantidadIngresar().length;i++){
				String datos = this.getCantidadIngresar()[i];
				String[] valores = datos.split(",");
				String cantidadIngresada;
				String cantidadIngresar;
				String cantidad;
				InvRecurso invRecurso =  new InvRecurso();
				/* se setean los valores para ingresar un detalle de movimiento*/
				cantidad = valores[1];
				cantidadIngresada = valores[2];				
				cantidadIngresar = (valores.length > 3)?valores[3]:"0";
				
				if(Integer.valueOf(cantidadIngresada)+Integer.valueOf(cantidadIngresar) > Integer.valueOf(cantidad)){
					errors.add("ingSolAbas.cantidad.requerido"+valores[0], new ActionError("ingSolAbas.cantidad.requerido",Integer.valueOf(cantidad)-Integer.valueOf(cantidadIngresada)));
				}
				
			}
			
		}
		
				
	}

	/** 
	 * Method reset
	 * @param mapping
	 * @param request
	 */
	public void reset(ActionMapping mapping, HttpServletRequest request) {
		// TODO Auto-generated method stub
	}

	/** 
	 * Returns the actSolicitud.
	 * @return ActSolicitud
	 */
	public ActSolicitud getActSolicitud() {
		return this.actSolicitud;
	}

	/** 
	 * Set the actSolicitud.
	 * @param actSolicitud The actSolicitud to set
	 */
	public void setActSolicitud(ActSolicitud actSolicitud) {
		this.actSolicitud=actSolicitud;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#getCodSolicitud()
	 */
	public Integer getCodSolicitud() {
		return this.actSolicitud.getId().getCodSolicitud();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#getTipoSolicitud()
	 */
	public String getTipoSolicitud() {
		return this.actSolicitud.getId().getTipoSolicitud();
	}

	/**
	 * @param codSolicitud
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#setCodSolicitud(java.lang.Integer)
	 */
	public void setCodSolicitud(Integer codSolicitud) {
		this.actSolicitud.getId().setCodSolicitud(codSolicitud);
	}

	/**
	 * @param tipoSolicitud
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#setTipoSolicitud(java.lang.String)
	 */
	public void setTipoSolicitud(String tipoSolicitud) {
		this.actSolicitud.getId().setTipoSolicitud(tipoSolicitud);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getCodSolicitante()
	 */
	public String getCodSolicitante() {
		return this.actSolicitud.getCodSolicitante();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getEstado()
	 */
	public String getEstado() {
		return this.actSolicitud.getEstado();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getEstadoDesc()
	 */
	public String getEstadoDesc() {
		return this.actSolicitud.getEstadoDesc();
	}

	/**
	 * @param codSolicitante
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setCodSolicitante(java.lang.String)
	 */
	public void setCodSolicitante(String codSolicitante) {
		this.actSolicitud.setCodSolicitante(codSolicitante);
	}

	/**
	 * @param estado
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setEstado(java.lang.String)
	 */
	public void setEstado(String estado) {
		this.actSolicitud.setEstado(estado);
	}

	/**
	 * @return the solicitante
	 */
	public String getSolicitante() {
		return solicitante;
	}

	/**
	 * @param solicitante the solicitante to set
	 */
	public void setSolicitante(String solicitante) {
		this.solicitante = solicitante;
	}

	/**
	 * @return the cantidadIngresar
	 */
	public String[] getCantidadIngresar() {
		return cantidadIngresar;
	}

	/**
	 * @param cantidadIngresar the cantidadIngresar to set
	 */
	public void setCantidadIngresar(String[] cantidadIngresar) {
		this.cantidadIngresar = cantidadIngresar;
	}

	/**
	 * @return the mostrarHistorico
	 */
	public String getMostrarHistorico() {
		return mostrarHistorico;
	}

	/**
	 * @param mostrarHistorico the mostrarHistorico to set
	 */
	public void setMostrarHistorico(String mostrarHistorico) {
		this.mostrarHistorico = mostrarHistorico;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getCodBodega()
	 */
	public Integer getCodBodega() {
		return actSolicitud.getCodBodega();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getDesBodega()
	 */
	public String getDesBodega() {
		return actSolicitud.getDesBodega();
	}

	/**
	 * @param codBodega
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setCodBodega(java.lang.Integer)
	 */
	public void setCodBodega(Integer codBodega) {
		actSolicitud.setCodBodega(codBodega);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getComentario()
	 */
	public String getComentario() {
		return actSolicitud.getComentario();
	}

	/**
	 * @param comentario
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setComentario(java.lang.String)
	 */
	public void setComentario(String comentario) {
		actSolicitud.setComentario(comentario);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getMotivoRechazo()
	 */
	public String getMotivoRechazo() {
		return actSolicitud.getMotivoRechazo();
	}

	/**
	 * @param motivoRechazo
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setMotivoRechazo(java.lang.String)
	 */
	public void setMotivoRechazo(String motivoRechazo) {
		actSolicitud.setMotivoRechazo(motivoRechazo);
	}

	/**
	 * @return the valoresIngresar
	 */
	public Integer getValoresIngresar() {
		return 0;
	}

	/**
	 * @param valoresIngresar the valoresIngresar to set
	 */
	public void setValoresIngresar(Integer[] valoresIngresar) {
		this.valoresIngresar = valoresIngresar;
	}
}
