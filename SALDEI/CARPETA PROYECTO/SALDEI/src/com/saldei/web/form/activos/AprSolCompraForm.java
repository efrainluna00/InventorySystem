/*
 * Generated by MyEclipse Struts
 * Template path: templates/java/JavaClass.vtl
 */
package com.saldei.web.form.activos;

import java.util.Date;
import java.util.ResourceBundle;

import javax.servlet.http.HttpServletRequest;

import org.apache.struts.action.ActionError;
import org.apache.struts.action.ActionErrors;
import org.apache.struts.action.ActionForm;
import org.apache.struts.action.ActionMapping;

import com.saldei.hibernate.tables.activos.ActCotizacion;
import com.saldei.hibernate.tables.activos.ActCotizacionId;
import com.saldei.hibernate.tables.activos.ActCuenta;
import com.saldei.hibernate.tables.activos.ActDetPresupuesto;
import com.saldei.hibernate.tables.activos.ActDetPresupuestoId;
import com.saldei.hibernate.tables.activos.ActPresupuesto;
import com.saldei.hibernate.tables.activos.ActProveedor;
import com.saldei.hibernate.tables.activos.ActSolicitud;
import com.saldei.hibernate.tables.activos.ActSolicitudId;
import com.saldei.hibernate.tables.inventario.InvBodega;

/** 
 * MyEclipse Struts
 * Creation date: 07-19-2009
 * 
 * XDoclet definition:
 * @struts.form name="aprSolCompraForm"
 */
public class AprSolCompraForm extends ActionForm {
	/*
	 * Generated fields
	 */

	/** actSolicitud property */
	private ActSolicitud actSolicitud = new ActSolicitud(new ActSolicitudId());
	private ActCotizacion actCotizacion = new ActCotizacion(new ActCotizacionId(), new ActProveedor());
	private ActDetPresupuesto actDetPresupuesto = new ActDetPresupuesto(new ActDetPresupuestoId(new ActPresupuesto(),new ActCuenta()));	
	private String solicitante;
	private String nombreBodega;
	private String mostrarHistorico;
	private String montoActual;
	/*
	 * Generated Methods
	 */

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getNombre()
	 */
	public String getNombre() {
		return actSolicitud.getNombre();
	}

	/**
	 * @return the solicitante
	 */
	public String getSolicitante() {
		return solicitante;
	}

	/**
	 * @param solicitante the solicitante to set
	 */
	public void setSolicitante(String solicitante) {
		this.solicitante = solicitante;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActCotizacionId#getCodCotizacion()
	 */
	public String getCodCotizacion() {
		if(actCotizacion.getId().getCodCotizacion() != null)
			return String.valueOf(actCotizacion.getId().getCodCotizacion());
		else return "";
	}

	/**
	 * @param codCotizacion
	 * @see com.saldei.hibernate.tables.activos.AbstractActCotizacionId#setCodCotizacion(java.lang.Integer)
	 */
	public void setCodCotizacion(String codCotizacion) {
		if(codCotizacion != null && !codCotizacion.equals(""))
			actCotizacion.getId().setCodCotizacion(Integer.valueOf(codCotizacion));
	}

	/** 
	 * Method validate
	 * @param mapping
	 * @param request
	 * @return ActionErrors
	 */
	public void validate(ActionMapping mapping,
			HttpServletRequest request,ActionErrors errors) {
		// TODO Auto-generated method stub
		String accion = request.getParameter("accion");
		accion = (accion==null)?"":accion;
		
		double montoPpto = this.getMonto();
		double montoSol = (this.getMontoActual() != null && !this.getMontoActual().equals(""))?Double.valueOf(this.getMontoActual()):0 ; 
		double saldoPpto = this.getSaldoActual();
		
		ResourceBundle mensajes = ResourceBundle.getBundle("com.saldei.web.ApplicationResources");
	
		if(!accion.equals(mensajes.getString("opc.cancel")) && !accion.equals(mensajes.getString("opc.find"))){
			if(this.getCodCotizacion() == null || this.getCodCotizacion().equals("")){
				errors.add("aprSolCompra.cotizacion.requerido", new ActionError("aprSolCompra.cotizacion.requerido"));
			}
			if(this.getCodPresupuesto() == null || this.getCodPresupuesto().equals("")){
				errors.add("aprSolCompra.presupuesto.requerido", new ActionError("aprSolCompra.presupuesto.requerido"));
			}
			if(this.getCodBodega() == null || this.getCodBodega().equals("")){
				errors.add("aprSolCompra.bodega.requerido", new ActionError("aprSolCompra.bodega.requerido"));
			}
			if(montoSol>saldoPpto){
				errors.add("aprSolCompra.mensajeError.error", new ActionError("aprSolCompra.monto.invalido"));
			}
			
		}
	}

	/** 
	 * Method reset
	 * @param mapping
	 * @param request
	 */
	public void reset(ActionMapping mapping, HttpServletRequest request) {
		// TODO Auto-generated method stub
		actCotizacion = new ActCotizacion(new ActCotizacionId(), new ActProveedor());
		nombreBodega = null;		
		actDetPresupuesto = new ActDetPresupuesto(new ActDetPresupuestoId(new ActPresupuesto(),new ActCuenta()));
	}

	/** 
	 * Returns the actSolicitud.
	 * @return ActSolicitud
	 */
	public ActSolicitud getActSolicitud() {
		return actSolicitud;
	}

	/** 
	 * Set the actSolicitud.
	 * @param actSolicitud The actSolicitud to set
	 */
	public void setActSolicitud(ActSolicitud actSolicitud) {
		this.actSolicitud = actSolicitud;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#getCodSolicitud()
	 */
	public String getCodSolicitud() {
		if(actSolicitud.getId().getCodSolicitud() != null)
			return String.valueOf(actSolicitud.getId().getCodSolicitud());
		else return "";
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#getTipoSolicitud()
	 */
	public String getTipoSolicitud() {
		return actSolicitud.getId().getTipoSolicitud();
	}

	/**
	 * @param codSolicitud
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#setCodSolicitud(java.lang.Integer)
	 */
	public void setCodSolicitud(String codSolicitud) {
		if(codSolicitud != null && !codSolicitud.trim().equals(""))
			actSolicitud.getId().setCodSolicitud(Integer.valueOf(codSolicitud));
	}

	/**
	 * @param tipoSolicitud
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitudId#setTipoSolicitud(java.lang.String)
	 */
	public void setTipoSolicitud(String tipoSolicitud) {
		actSolicitud.getId().setTipoSolicitud(tipoSolicitud);
	}

	/**
	 * @return the actCotizacion
	 */
	public ActCotizacion getActCotizacion() {
		return actCotizacion;
	}

	/**
	 * @param actCotizacion
	 *  the actCotizacion to set
	 */
	public void setActCotizacion(ActCotizacion actCotizacion) {
		this.actCotizacion = actCotizacion;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActProveedor#getCodProveedor()
	 */
	public String getCodProveedor() {
		return actCotizacion.getActProveedor().getCodProveedor();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActProveedor#getNombre()
	 */
	public String getNombreProveedor() {
		return actCotizacion.getActProveedor().getNombre();
	}

	/**
	 * @param codProveedor
	 * @see com.saldei.hibernate.tables.activos.AbstractActProveedor#setCodProveedor(java.lang.String)
	 */
	public void setCodProveedor(String codProveedor) {
		actCotizacion.getActProveedor().setCodProveedor(codProveedor);
	}

	/**
	 * @param nombre
	 * @see com.saldei.hibernate.tables.activos.AbstractActProveedor#setNombre(java.lang.String)
	 */
	public void setNombreProveedor(String nombreProveedor) {
		actCotizacion.getActProveedor().setNombre(nombreProveedor);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActPresupuesto#getCodPresupuesto()
	 */
	public String getCodPresupuesto() {
		if(actDetPresupuesto.getId().getActPresupuesto().getCodPresupuesto()!= null)
			return String.valueOf(actDetPresupuesto.getId().getActPresupuesto().getCodPresupuesto());
		else return "";
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActPresupuesto#getFecha_fin()
	 */
	public String getFecha_fin() {
		return actDetPresupuesto.getId().getActPresupuesto().getFecha_fin();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActPresupuesto#getFecha_ini()
	 */
	public String getFecha_ini() {
		return actDetPresupuesto.getId().getActPresupuesto().getFecha_ini();
	}

	/**
	 * @param codPresupuesto
	 * @see com.saldei.hibernate.tables.activos.AbstractActPresupuesto#setCodPresupuesto(java.lang.Integer)
	 */
	public void setCodPresupuesto(String codPresupuesto) {
		if(codPresupuesto != null && !codPresupuesto.equals(""))
			actDetPresupuesto.getId().getActPresupuesto().setCodPresupuesto(Integer.valueOf(codPresupuesto));
	}

	/**
	 * @param fechaFinal
	 * @see com.saldei.hibernate.tables.activos.AbstractActPresupuesto#setFechaFinal(java.util.Date)
	 */
	public void setFechaFinal(Date fechaFinal) {
		actDetPresupuesto.getId().getActPresupuesto().setFechaFinal(fechaFinal);
	}

	/**
	 * @param fechaInicial
	 * @see com.saldei.hibernate.tables.activos.AbstractActPresupuesto#setFechaInicial(java.util.Date)
	 */
	public void setFechaInicial(Date fechaInicial) {
		actDetPresupuesto.getId().getActPresupuesto().setFechaInicial(fechaInicial);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActDetPresupuesto#getMonto()
	 */
	public double getMonto() {
		return  actDetPresupuesto.getMonto();
	}

	/**
	 * @param monto
	 * @see com.saldei.hibernate.tables.activos.AbstractActDetPresupuesto#setMonto(double)
	 */
	public void setMonto(double monto) {
		actDetPresupuesto.setMonto(monto);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActCuenta#getCodCuenta()
	 */
	public String getCodCuenta() {
		return actDetPresupuesto.getId().getActCuenta().getCodCuenta();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActCuenta#getDescripcion()
	 */
	public String getDescripcion() {
		return actDetPresupuesto.getId().getActCuenta().getDescripcion();
	}

	/**
	 * @param codCuenta
	 * @see com.saldei.hibernate.tables.activos.AbstractActCuenta#setCodCuenta(java.lang.String)
	 */
	public void setCodCuenta(String codCuenta) {
		actDetPresupuesto.getId().getActCuenta().setCodCuenta(codCuenta);
	}

	/**
	 * @param descripcion
	 * @see com.saldei.hibernate.tables.activos.AbstractActCuenta#setDescripcion(java.lang.String)
	 */
	public void setDescripcion(String descripcion) {
		actDetPresupuesto.getId().getActCuenta().setDescripcion(descripcion);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActDetPresupuesto#getSaldoActual()
	 */
	public double getSaldoActual() {
		return actDetPresupuesto.getSaldoActual();
	}

	/**
	 * @param saldoActual
	 * @see com.saldei.hibernate.tables.activos.AbstractActDetPresupuesto#setSaldoActual(double)
	 */
	public void setSaldoActual(double saldoActual) {
		actDetPresupuesto.setSaldoActual(saldoActual);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getMotivoRechazo()
	 */
	public String getMotivoRechazo() {
		return actSolicitud.getMotivoRechazo();
	}

	/**
	 * @param motivoRechazo
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setMotivoRechazo(java.lang.String)
	 */
	public void setMotivoRechazo(String motivoRechazo) {
		actSolicitud.setMotivoRechazo(motivoRechazo);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getEstado()
	 */
	public String getEstado() {
		return actSolicitud.getEstado();
	}

	/**
	 * @param estado
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setEstado(java.lang.String)
	 */
	public void setEstado(String estado) {
		actSolicitud.setEstado(estado);
	}

	/**
	 * @return the actDetPresupuesto
	 */
	public ActDetPresupuesto getActDetPresupuesto() {
		return actDetPresupuesto;
	}

	/**
	 * @param actDetPresupuesto the actDetPresupuesto to set
	 */
	public void setActDetPresupuesto(ActDetPresupuesto actDetPresupuesto) {
		this.actDetPresupuesto = actDetPresupuesto;
	}


	/**
	 * @return
	 * @see com.saldei.hibernate.tables.inventario.AbstractInvBodega#getCodBodega()
	 */
	public String getCodBodega() {
		if(this.actSolicitud.getCodBodega() != null)
			return String.valueOf(this.actSolicitud.getCodBodega());
		else return "";
	}

	

	/**
	 * @param codBodega
	 * @see com.saldei.hibernate.tables.inventario.AbstractInvBodega#setCodBodega(java.lang.Integer)
	 */
	public void setCodBodega(String codBodega) {
		if(codBodega != null && !codBodega.equals(""))
			this.actSolicitud.setCodBodega(Integer.valueOf(codBodega));
	}

	
	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getEstadoDesc()
	 */
	public String getEstadoDesc() {
		return actSolicitud.getEstadoDesc();
	}

	public String getMostrarHistorico() {
		return mostrarHistorico;
	}

	public void setMostrarHistorico(String mostrarHistorico) {
		this.mostrarHistorico = mostrarHistorico;
	}

	public String getUrlCotizacion() {
		if (this.actCotizacion.getUrlCotizacion() == null){
			return actCotizacion.getUrlCotizacion();
		}
			
		
		try{
			
	
		if (this.actCotizacion.getUrlCotizacion().equals("''") || this.actCotizacion.getUrlCotizacion().equals("\"")){
			return null;
		}
	}catch(Exception e){
		e.printStackTrace();
	}
	
		return actCotizacion.getUrlCotizacion();
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getDesBodega()
	 */
	public String getDesBodega() {
		return actSolicitud.getDesBodega();
	}
	
	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.ActSolicitud#getDesBodega()
	 */
	public void setDesBodega(String desBodega) {
		this.nombreBodega = desBodega;
	}

	/**
	 * @return the montoActual
	 */
	public String getMontoActual() {
		return montoActual;
	}

	/**
	 * @param montoActual the montoActual to set
	 */
	public void setMontoActual(String montoActual) {
		this.montoActual = montoActual;
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActCotizacion#getComentario()
	 */
	public String getComentario() {
		return actCotizacion.getComentario();
	}

	/**
	 * @param comentario
	 * @see com.saldei.hibernate.tables.activos.AbstractActCotizacion#setComentario(java.lang.String)
	 */
	public void setComentario(String comentario) {
		actCotizacion.setComentario(comentario);
	}

	/**
	 * @return
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#getAsigCompra()
	 */
	public String getAsigCompra() {
		return actSolicitud.getAsigCompra();
	}

	/**
	 * @param asigCompra
	 * @see com.saldei.hibernate.tables.activos.AbstractActSolicitud#setAsigCompra(java.lang.String)
	 */
	public void setAsigCompra(String asigCompra) {
		actSolicitud.setAsigCompra(asigCompra);
	}
}